<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.179">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Segmentación de universidades en EEUU con énfasis en estudiantes de areas relacionadas a la computación</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="blog_files/libs/clipboard/clipboard.min.js"></script>
<script src="blog_files/libs/quarto-html/quarto.js"></script>
<script src="blog_files/libs/quarto-html/popper.min.js"></script>
<script src="blog_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="blog_files/libs/quarto-html/anchor.min.js"></script>
<link href="blog_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="blog_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="blog_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="blog_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="blog_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="blog_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="blog_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#importe-y-análisis-de-datos" id="toc-importe-y-análisis-de-datos" class="nav-link" data-scroll-target="#importe-y-análisis-de-datos">Importe y análisis de datos</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Segmentación de universidades en EEUU con énfasis en estudiantes de areas relacionadas a la computación</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>Para realizar la segmentación utilizamos la base de datos encontrada en el link: https://data.world/exercises/cluster-analysis-exercise-2</p>
</section>
<section id="importe-y-análisis-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="importe-y-análisis-de-datos">Importe y análisis de datos</h2>
<p>A continuación procedemos a hacer el cargo de datos considerando aquellos suprimidos por privacidad como NaN:</p>
<div class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="11">
<div id="tbl-import-presentacion-inicial" class="anchored">

<div>

<table class="dataframe table table-sm table-striped"><caption>Table&nbsp;1:  Datos iniciales </caption>
  <thead>
    <tr>
      <th></th>
      <th>UNITID</th>
      <th>OPEID</th>
      <th>opeid6</th>
      <th>INSTNM</th>
      <th>CITY</th>
      <th>STABBR</th>
      <th>ZIP</th>
      <th>AccredAgency</th>
      <th>INSTURL</th>
      <th>NPCURL</th>
      <th>...</th>
      <th>COMPL_RPY_3YR_RT_SUPP</th>
      <th>NONCOM_RPY_3YR_RT_SUPP</th>
      <th>DEP_RPY_3YR_RT_SUPP</th>
      <th>IND_RPY_3YR_RT_SUPP</th>
      <th>PELL_RPY_3YR_RT_SUPP</th>
      <th>NOPELL_RPY_3YR_RT_SUPP</th>
      <th>FEMALE_RPY_3YR_RT_SUPP</th>
      <th>MALE_RPY_3YR_RT_SUPP</th>
      <th>FIRSTGEN_RPY_3YR_RT_SUPP</th>
      <th>NOTFIRSTGEN_RPY_3YR_RT_SUPP</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100654</td>
      <td>100200</td>
      <td>1002</td>
      <td>Alabama A &amp; M University</td>
      <td>Normal</td>
      <td>AL</td>
      <td>35762</td>
      <td>Southern Association of Colleges and Schools C...</td>
      <td>www.aamu.edu/</td>
      <td>galileo.aamu.edu/netpricecalculator/npcalc.htm</td>
      <td>...</td>
      <td>0.578873</td>
      <td>0.373790</td>
      <td>0.442857</td>
      <td>0.458904</td>
      <td>0.443587</td>
      <td>0.452514</td>
      <td>0.484819</td>
      <td>0.406000</td>
      <td>0.423581</td>
      <td>0.442453</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100663</td>
      <td>105200</td>
      <td>1052</td>
      <td>University of Alabama at Birmingham</td>
      <td>Birmingham</td>
      <td>AL</td>
      <td>35294-0110</td>
      <td>Southern Association of Colleges and Schools C...</td>
      <td>www.uab.edu</td>
      <td>www.collegeportraits.org/AL/UAB/estimator/agree</td>
      <td>...</td>
      <td>0.847801</td>
      <td>0.678749</td>
      <td>0.767798</td>
      <td>0.739165</td>
      <td>0.732298</td>
      <td>0.795455</td>
      <td>0.760522</td>
      <td>0.755344</td>
      <td>0.751553</td>
      <td>0.765075</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100690</td>
      <td>2503400</td>
      <td>25034</td>
      <td>Amridge University</td>
      <td>Montgomery</td>
      <td>AL</td>
      <td>36117-3553</td>
      <td>Southern Association of Colleges and Schools C...</td>
      <td>www.amridgeuniversity.edu</td>
      <td>tcc.noellevitz.com/(S(miwoihs5stz5cpyifh4nczu0...</td>
      <td>...</td>
      <td>0.807692</td>
      <td>0.613281</td>
      <td>NaN</td>
      <td>0.641115</td>
      <td>0.600877</td>
      <td>0.775000</td>
      <td>0.610465</td>
      <td>0.686567</td>
      <td>0.632653</td>
      <td>0.650000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100706</td>
      <td>105500</td>
      <td>1055</td>
      <td>University of Alabama in Huntsville</td>
      <td>Huntsville</td>
      <td>AL</td>
      <td>35899</td>
      <td>Southern Association of Colleges and Schools C...</td>
      <td>www.uah.edu</td>
      <td>finaid.uah.edu/</td>
      <td>...</td>
      <td>0.892045</td>
      <td>0.689788</td>
      <td>0.800347</td>
      <td>0.755644</td>
      <td>0.738342</td>
      <td>0.851406</td>
      <td>0.768379</td>
      <td>0.798441</td>
      <td>0.778157</td>
      <td>0.791667</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100724</td>
      <td>100500</td>
      <td>1005</td>
      <td>Alabama State University</td>
      <td>Montgomery</td>
      <td>AL</td>
      <td>36104-0271</td>
      <td>Southern Association of Colleges and Schools C...</td>
      <td>www.alasu.edu/email/index.aspx</td>
      <td>www.alasu.edu/cost-aid/forms/calculator/index....</td>
      <td>...</td>
      <td>0.482490</td>
      <td>0.315997</td>
      <td>0.324102</td>
      <td>0.350993</td>
      <td>0.320017</td>
      <td>0.380829</td>
      <td>0.364424</td>
      <td>0.286531</td>
      <td>0.315737</td>
      <td>0.334633</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1725 columns</p>
</div>
</div>
</div>
</div>
<p>Como se puede ver en <a href="#tbl-import-presentacion-inicial">Table&nbsp;1</a> la base de datos contiene 7804 observaciones y 1725 columnas.</p>
<p>Para comenzar y como nuestro interés de acuerdo al objetivo <em>TODO: Esta justificación si es correcta</em> es tener la mayor cantidad de datos procederemos a descartar las columnas cuyo porcentaje de nulos sea mayor al (30%)</p>
<div class="cell" data-execution_count="2">
<div class="cell-output cell-output-display" data-execution_count="12">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>columna</th>
      <th>porcentaje_datos_nulos</th>
      <th>datos_nulos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>UNITID</td>
      <td>0.000000</td>
      <td>0 de 7804</td>
    </tr>
    <tr>
      <th>315</th>
      <td>CURROPER</td>
      <td>0.000000</td>
      <td>0 de 7804</td>
    </tr>
    <tr>
      <th>18</th>
      <td>region</td>
      <td>0.000000</td>
      <td>0 de 7804</td>
    </tr>
    <tr>
      <th>17</th>
      <td>st_fips</td>
      <td>0.000000</td>
      <td>0 de 7804</td>
    </tr>
    <tr>
      <th>15</th>
      <td>HIGHDEG</td>
      <td>0.000000</td>
      <td>0 de 7804</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1578</th>
      <td>LO_INC_RPY_5YR_N</td>
      <td>0.280497</td>
      <td>2189 de 7804</td>
    </tr>
    <tr>
      <th>1511</th>
      <td>PELL_DEBT_MDN</td>
      <td>0.284470</td>
      <td>2220 de 7804</td>
    </tr>
    <tr>
      <th>1592</th>
      <td>LO_INC_RPY_7YR_N</td>
      <td>0.293567</td>
      <td>2291 de 7804</td>
    </tr>
    <tr>
      <th>1713</th>
      <td>MD_INC_RPY_3YR_RT_SUPP</td>
      <td>0.293567</td>
      <td>2291 de 7804</td>
    </tr>
    <tr>
      <th>1720</th>
      <td>NOPELL_RPY_3YR_RT_SUPP</td>
      <td>0.297540</td>
      <td>2322 de 7804</td>
    </tr>
  </tbody>
</table>
<p>351 rows × 3 columns</p>
</div>
</div>
</div>
<p>De acuerdo a un análisis manual y dado el objetivo planteado inicialmente se concluye que de las 351 variables resultantes las más adecuadas, en un principio, para ofrecer un producto son los presentados en <a href="#tbl-col-iniciales">Table&nbsp;2</a></p>
<div class="cell" data-execution_count="3">
<div class="cell-output cell-output-display" data-execution_count="13">
<div id="tbl-col-iniciales" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;2: Columnas iniciales a analizar</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Nombre</th>
<th style="text-align: left;">Tipo de dato</th>
<th style="text-align: left;">Resumen</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CURROPER</td>
<td style="text-align: left;">int64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="even">
<td style="text-align: left;">CONTROL</td>
<td style="text-align: left;">int64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DEBT_MDN</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="even">
<td style="text-align: left;">PCTFLOAN</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GRAD_DEBT_MDN</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="even">
<td style="text-align: left;">PCIP11</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PCIP15</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="even">
<td style="text-align: left;">PCIP14</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PCIP27</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="even">
<td style="text-align: left;">CIP11BACHL</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CIP15BACHL</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="even">
<td style="text-align: left;">CIP14BACHL</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CIP27BACHL</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
<tr class="even">
<td style="text-align: left;">PCTPELL</td>
<td style="text-align: left;">float64</td>
<td style="text-align: left;">Explcación bien perrona</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>En cuanto al manejo de nulos resultantes como se puede ver en <a href="#tbl-col-iniciales-datos-perdidas">Table&nbsp;3</a> la mayor perdida de datos se debe a las variables DEBT_MDN y GRAD_DEBT_MDN, que tienen entre un 14% y un 16% de datos nulos en comparación con los datos generales.</p>
<div class="cell" data-execution_count="4">
<div class="cell-output cell-output-display" data-execution_count="14">
<div id="tbl-col-iniciales-datos-perdidas" class="anchored">

<div>

<table class="dataframe table table-sm table-striped"><caption>Table&nbsp;3:  Datos perdidos </caption>
  <thead>
    <tr>
      <th></th>
      <th>columna</th>
      <th>porcentaje_datos_nulos</th>
      <th>datos_nulos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CURROPER</td>
      <td>0.000000</td>
      <td>0 de 7804</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CONTROL</td>
      <td>0.000000</td>
      <td>0 de 7804</td>
    </tr>
    <tr>
      <th>9</th>
      <td>CIP11BACHL</td>
      <td>0.053947</td>
      <td>421 de 7804</td>
    </tr>
    <tr>
      <th>10</th>
      <td>CIP15BACHL</td>
      <td>0.053947</td>
      <td>421 de 7804</td>
    </tr>
    <tr>
      <th>11</th>
      <td>CIP14BACHL</td>
      <td>0.053947</td>
      <td>421 de 7804</td>
    </tr>
    <tr>
      <th>12</th>
      <td>CIP27BACHL</td>
      <td>0.053947</td>
      <td>421 de 7804</td>
    </tr>
    <tr>
      <th>5</th>
      <td>PCIP11</td>
      <td>0.092004</td>
      <td>718 de 7804</td>
    </tr>
    <tr>
      <th>6</th>
      <td>PCIP15</td>
      <td>0.092004</td>
      <td>718 de 7804</td>
    </tr>
    <tr>
      <th>7</th>
      <td>PCIP14</td>
      <td>0.092004</td>
      <td>718 de 7804</td>
    </tr>
    <tr>
      <th>8</th>
      <td>PCIP27</td>
      <td>0.092004</td>
      <td>718 de 7804</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PCTFLOAN</td>
      <td>0.094951</td>
      <td>741 de 7804</td>
    </tr>
    <tr>
      <th>13</th>
      <td>PCTPELL</td>
      <td>0.094951</td>
      <td>741 de 7804</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DEBT_MDN</td>
      <td>0.149026</td>
      <td>1163 de 7804</td>
    </tr>
    <tr>
      <th>4</th>
      <td>GRAD_DEBT_MDN</td>
      <td>0.160046</td>
      <td>1249 de 7804</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
<p>Por lo que ahora procederemos con una imputación reemplazando con la mediana y la moda los valores nulos en columnas numéricas y categóricas respectivamente.</p>
<p>Luego de hacer la debida imputación podemos notar en <strong>?@tbl-matriz-corr-1</strong> que la deuda media acumulada de todos los estudiantes (DEBT_MDN) y la deuda media acumulada de los estudiantes que terminaron la carrera (GRAD_DEBT_MDN) presenta una correlación de 0.77, por lo que procedera a sacar una de ellas (GRAD_DEBT_MDN) para eliminar redundancia del conjunto de caracteristicas con las que se estan trabajando en el proceso de clusterización. También se logra observar unas correlaciones moderadas en otros pares de variables, son embargo se tomo la decisión de dejarlar, dado que son variables que contienen información inportante en el proceso de clusterización.</p>
<div id="tbl-matriz-corr-1" class="cell tbl-parent quarto-layout-panel anchored" data-tbl-cap="Matriz de correlacion" data-execution_count="5">
<div class="panel-caption table-caption">
<p><strong>?(caption)</strong></p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" data-execution_count="15" style="flex-basis: 100.0%;justify-content: center;">
<pre><code>&lt;function matplotlib.pyplot.show(close=None, block=None)&gt;</code></pre>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="blog_files/figure-html/tbl-matriz-corr-1-output-2.png" id="tbl-matriz-corr-1-2" class="img-fluid" width="651"></p>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>